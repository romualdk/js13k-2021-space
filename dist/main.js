(()=>{"use strict";function t(t,n,r){var o=t.createShader(r);return t.shaderSource(o,n),t.compileShader(o),o}let n=[0,0,0,255,0,0,0,255,0,0,0,255,255,255,0,0,255,255,255,0,255,255,255,255];const r=t=>t*Math.PI/180;function o(t,n){var r=t[0],o=t[1],i=t[2],e=t[3],a=t[4],v=t[5],c=t[6],d=t[7],f=t[8],u=t[9],l=t[10],h=t[11],s=t[12],A=t[13],_=t[14],R=t[15],g=n[0],E=n[1],m=n[2],F=n[3],b=n[4],M=n[5],T=n[6],B=n[7],x=n[8],S=n[9],P=n[10],p=n[11],w=n[12],U=n[13],y=n[14],C=n[15];return[g*r+E*a+m*f+F*s,g*o+E*v+m*u+F*A,g*i+E*c+m*l+F*_,g*e+E*d+m*h+F*R,b*r+M*a+T*f+B*s,b*o+M*v+T*u+B*A,b*i+M*c+T*l+B*_,b*e+M*d+T*h+B*R,x*r+S*a+P*f+p*s,x*o+S*v+P*u+p*A,x*i+S*c+P*l+p*_,x*e+S*d+P*h+p*R,w*r+U*a+y*f+C*s,w*o+U*v+y*u+C*A,w*i+U*c+y*l+C*_,w*e+U*d+y*h+C*R]}function i(t){var n=Math.cos(t),r=Math.sin(t);return[n,0,-r,0,0,1,0,0,r,0,n,0,0,0,0,1]}function e(t){var n=Math.cos(t),r=Math.sin(t);return[n,r,0,0,-r,n,0,0,0,0,1,0,0,0,0,1]}function a(t,n,r,i){return o(t,function(t,n,r){return[1,0,0,0,0,1,0,0,0,0,1,0,t,n,r,1]}(n,r,i))}function v(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function d(t){var n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return n>1e-5?[t[0]/n,t[1]/n,t[2]/n]:[0,0,0]}function f(t,n){for(var r=[],o=0;o<4;++o){r[o]=0;for(var i=0;i<4;++i)r[o]+=n[i]*t[4*i+o]}return r}let u=c.getContext("webgl2"),l=t(u,"#version 300 es\nin vec4 a_position;\nin vec4 a_color;\nuniform mat4 u_matrix;\nout vec4 v_color;\n\nvoid main() {\n  gl_Position = u_matrix * a_position;\n  v_color = a_color;\n}\n",u.VERTEX_SHADER),h=t(u,"#version 300 es\nprecision highp float;\nin vec4 v_color;\nout vec4 outColor;\n\nvoid main() {\n  outColor = v_color;\n}\n",u.FRAGMENT_SHADER),s=function(t,n,r){var o=t.createProgram();return t.attachShader(o,n),t.attachShader(o,r),t.linkProgram(o),o}(u,l,h),A=u.getAttribLocation(s,"a_position"),_=u.getAttribLocation(s,"a_color"),R=u.getUniformLocation(s,"u_matrix"),g=u.createVertexArray();u.bindVertexArray(g),u.enableVertexAttribArray(A);let E=function(t){let n={v:t.v.split(/\s+/),f:t.f.split(/\s+/)};for(let t in n.v)n.v[t]*=1;for(let t in n.f)n.f[t]*=1,n.f[t]-=1;return n}({v:"1 2 0\n7 1 0\n2 1 7\n0 5 0\n0 2 0\n0 0 1\n0 3 2\n0 1 13\n0 3 6",f:"1 5 4\n7 3 2\n3 7 9\n3 6 2\n1 7 2\n8 3 9\n6 3 8\n6 1 2\n7 1 4\n6 5 1"}),m=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,m),function(t,n,r=45){let e=function(t){let n={v:[...t.v],f:[...t.f]},r=n.v.length/3;for(let t=0;t<r;t++)n.v[3*t]*=-1;for(let t in n.f)n.f[t]+=r;return n.f=function(t){let n=t.length/3,r=[];for(let o=0;o<n;o++){let n=3*o;r[n]=t[n+2],r[n+1]=t[n+1],r[n+2]=t[n]}return r}(n.f),n}(n);n.v=n.v.concat(e.v),n.f=n.f.concat(e.f);let v=function(t){let n=t.f.length,r=new Float32Array(3*n);for(let o=0;o<n;o++){let n=3*t.f[o];r[3*o]=t.v[n],r[3*o+1]=t.v[n+1],r[3*o+2]=t.v[n+2]}return r}(n);var c=function(t){var n=Math.cos(t),r=Math.sin(t);return[1,0,0,0,0,n,r,0,0,-r,n,0,0,0,0,1]}(0);c=a(c=o(c,i(0)),0,0,0);for(var d=0;d<v.length;d+=3){var u=f(c,[v[d+0],v[d+1],v[d+2],1]);v[d+0]=u[0],v[d+1]=u[1],v[d+2]=u[2]}for(var l in v)v[l]*=5;t.bufferData(t.ARRAY_BUFFER,v,t.STATIC_DRAW)}(u,E),u.vertexAttribPointer(A,3,u.FLOAT,!1,0,0);let F=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,F),function(t,r){t.bufferData(t.ARRAY_BUFFER,function(t){let r=t.f.length,o=new Uint8Array(3*r);for(let t=0;t<r;t++){let r=Math.floor(t/3);o[3*t]=n[r],o[3*t+1]=n[r+1],o[3*t+2]=n[r+2]}return o}(r),t.STATIC_DRAW)}(u,E),u.enableVertexAttribArray(_),u.vertexAttribPointer(_,3,u.UNSIGNED_BYTE,!0,0,0);var b=r(60),M=r(30),T=0;let B=1,x=[],S=[];for(var P=0;P<15;P++)x[P]=0,S[P]=2+10*Math.random();window.addEventListener("keypress",(function(){B=!B})),requestAnimationFrame((function t(n){var r=(n*=.001)-T;T=n,B&&(M+=1.2*r);var c,f,l,h,A,_,m,F,P,p,w,U,y,C,D,I,L,H,V,Y,N,W,q,G,O,k,X,j,z,J,K,Q,Z,$,tt,nt,rt,ot,it,et,at,vt,ct,dt,ft,ut,lt,ht,st,At,_t,Rt,gt,Et;c=u.canvas.clientWidth,f=u.canvas.clientHeight,u.canvas.width===c&&u.canvas.height===f||(u.canvas.width=c,u.canvas.height=f),u.viewport(0,0,u.canvas.width,u.canvas.height),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT),u.enable(u.DEPTH_TEST),u.enable(u.CULL_FACE),u.useProgram(s),u.bindVertexArray(g);for(var mt=u.canvas.clientWidth/u.canvas.clientHeight,Ft=function(t,n,r,o){var i=Math.tan(.5*Math.PI-.5*t),e=1/-1999;return[i/n,0,0,0,0,i,0,0,0,0,2001*e,-1,0,0,2e3*e*2,0]}(b,mt),bt=[200,0,0],Mt=i(M),Tt=[(Mt=a(Mt,0,50,300))[12],Mt[13],Mt[14]],Bt=o(Ft,(h=void 0,A=void 0,_=void 0,m=void 0,F=void 0,_=d([(h=l=Tt)[0]-(A=bt)[0],h[1]-A[1],h[2]-A[2]]),m=d(v([0,1,0],_)),F=d(v(_,m)),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[(Et=1/((p=(P=Mt=[m[0],m[1],m[2],0,F[0],F[1],F[2],0,_[0],_[1],_[2],0,l[0],l[1],l[2],1])[0])*(At=(k=(Y=P[10])*(O=P[15]))*(D=P[5])+(z=(G=P[14])*(L=P[7]))*(V=P[9])+(J=(I=P[6])*(N=P[11]))*(q=P[13])-((X=G*N)*D+(j=I*O)*V+(K=Y*L)*q))+(C=P[4])*(_t=X*(w=P[1])+(Q=(U=P[2])*O)*V+(tt=Y*(y=P[3]))*q-(k*w+(Z=G*y)*V+($=U*N)*q))+(H=P[8])*(Rt=j*w+Z*D+(nt=U*L)*q-(z*w+Q*D+(rt=I*y)*q))+(W=P[12])*(gt=K*w+$*D+rt*V-(J*w+tt*D+nt*V))))*At,Et*_t,Et*Rt,Et*gt,Et*(X*C+j*H+K*W-(k*C+z*H+J*W)),Et*(k*p+Z*H+$*W-(X*p+Q*H+tt*W)),Et*(z*p+Q*C+rt*W-(j*p+Z*C+nt*W)),Et*(J*p+tt*C+nt*H-(K*p+$*C+rt*H)),Et*((ot=H*q)*L+(at=W*D)*N+(vt=C*V)*O-((it=W*V)*L+(et=C*q)*N+(ct=H*D)*O)),Et*(it*y+(dt=p*q)*N+(lt=H*w)*O-(ot*y+(ft=W*w)*N+(ut=p*V)*O)),Et*(et*y+ft*L+(ht=p*D)*O-(at*y+dt*L+(st=C*w)*O)),Et*(ct*y+ut*L+st*N-(vt*y+lt*L+ht*N)),Et*(et*Y+ct*G+it*I-(vt*G+ot*I+at*Y)),Et*(ut*G+ot*U+ft*Y-(dt*Y+lt*G+it*U)),Et*(dt*I+st*G+at*U-(ht*G+et*U+ft*I)),Et*(ht*Y+vt*U+lt*I-(ut*I+st*Y+ct*U))])),xt=0;xt<15;++xt){x[xt]+=S[xt]*r;var St=e(x[xt]),Pt=xt*Math.PI*2/15,pt=a(Bt,200*Math.cos(Pt),0,200*Math.sin(Pt));pt=o(pt,St),u.uniformMatrix4fv(R,!1,pt),u.drawArrays(u.TRIANGLES,0,E.f.length)}requestAnimationFrame(t)}))})();